user                    <%= @user %>;
# number of workers changes as number of cpu as a 1 to 1 relationship
worker_processes        1;

error_log               /var/log/nginx/error.log;
pid                     /var/run/nginx.pid;

events {
  worker_connections    1024;
}

http {
  # Basic Settings
  sendfile              on;
  tcp_nopush            on;
  tcp_nodelay           on;
  keepalive_timeout     65;
  types_hash_max_size   2048;


  include              /etc/nginx/mime.types;
  default_type         application/octet-stream;

  # Logging Settings
  access_log           /var/log/nginx/access.log;
  error_log            /var/log/nginx/error.log;

  # Gzip Settings
  gzip                 on;
  gzip_disable         "msie6";

  # Virtual Host Configs
  include              /etc/nginx/conf.d/*.conf;
  include              /etc/nginx/sites-enabled/*;
}
